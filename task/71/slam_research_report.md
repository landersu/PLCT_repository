# ROS2激光SLAM算法调研文档

## 1. slam\_toolbox

**官方GitHub：**  [https://github.com/SteveMacenski/slam_toolbox](https://github.com/SteveMacenski/slam_toolbox)

**项目Wiki：**  [https://github.com/SteveMacenski/slam_toolbox/wiki](https://github.com/SteveMacenski/slam_toolbox/wiki)

**基础项目（Cartographer）：**  [https://github.com/cartographer-project/cartographer](https://github.com/cartographer-project/cartographer)

### 算法原理详解

slam\_toolbox是基于Google开源的Cartographer框架专为ROS2优化的激光SLAM解决方案。该算法采用分层式架构，分为前端和后端两部分。在前端处理环节，采用基于特征的扫描匹配技术，从激光扫描中提取特征点，然后将当前扫描与之前的子地图进行配准，得到初步的位姿估计。系统支持自适应的扫描积累机制，能够根据机器人的运动速度动态调整扫描的累积策略，确保既能保证精度又不会过度浪费计算资源。

在后端优化阶段，slam\_toolbox采用因子图（Factor Graph）模型来建立约束关系，并使用Ceres Solver进行非线性优化。这个优化框架能够处理扫描匹配约束、里程计约束和回环检测约束等多种类型的约束，通过全局的图优化来消除累积误差。整个系统还支持图的轨迹平滑和局部优化，使得最终生成的地图和轨迹都能达到较高的精度。

### 核心特点

slam\_toolbox支持在线和离线处理模式，在线模式下可以实时处理激光数据和里程计信息，动态生成地图供机器人实时导航使用。而离线模式则可以读取预先记录的rosbag文件进行离线优化建图，通过更充分的时间进行多次迭代优化，通常能够获得更高的精度。系统还支持地图的保存和加载，使得可以进行增量建图，在之前建好的地图基础上继续扩展。

该算法展现出灵活的传感器配置能力，不仅支持单线和多线激光雷达（包括2D激光和3D点云），还可以可选地集成里程计（Odometry）信息用于初值提供，以及IMU信息作为额外约束。这种高度的灵活性使得slam\_toolbox能够适配多种激光雷达型号，并且用户可以根据自己的硬件平台进行自定义配置。

slam\_toolbox内置了先进的回环检测机制，基于子地图间的相似性度量进行全局回环检测。算法使用分支界定算法加速搜索过程，同时支持自适应的相似性阈值设定，能够在保证检测精度的同时提高效率。图优化方法能够同时优化整条轨迹，通过全局约束的引入有效消除累积误差，使得系统可以处理大规模环境的建图任务。

采用分层的局部和全局优化混合策略，slam\_toolbox在前端实现快速扫描匹配以确保实时性，而后端则采用异步优化的方式避免阻塞前端的处理。这种设计使得系统能够达到10-50Hz的处理频率（取决于硬件和激光扫描频率），在工业级应用中展现出优异的性能。系统还支持多种地图输出格式，包括占用栅格地图（Occupancy Grid）用于路径规划，以及点云地图用于后期处理和可视化。

适用场景包括大规模室内环境建图、室外城市环境SLAM、移动机器人自主导航、无人车路径规划基础，以及后期地图精调和优化。

---

## 2. slam\_gmapping

**官方GitHub：**  [https://github.com/ros-perception/slam_gmapping](https://github.com/ros-perception/slam_gmapping)

**ROS Wiki：**  [https://wiki.ros.org/slam_gmapping](https://wiki.ros.org/slam_gmapping)

**参考论文：**  "Improved Techniques for Grid Mapping with Rao-Blackwellized Particle Filters" (Grisetti et al., 2007)

### 算法原理详解

slam\_gmapping采用经典的Rao-Blackwellized粒子滤波（RBPF，也称为Rao-Blackwellised Particle Filter）框架进行SLAM求解。这种方法的核心创新在于将联合分布巧妙地分解为两个部分：使用粒子滤波器估计机器人的位姿轨迹，同时使用EKF（扩展卡尔曼滤波）对每个粒子进行地图更新。

在具体实现中，系统维护N个粒子，每个粒子代表一种可能的机器人轨迹假设。每个粒子都关联一个概率权重，这个权重会根据激光扫描数据不断更新。当某些粒子的权重变得很小时，系统会进行粒子重采样操作，去除权重小的粒子，而保留权重大的粒子，这样可以避免权值退化问题。

对于后端的地图更新，系统对每个粒子独立维护一个栅格地图。每个粒子使用EKF更新其对应的地图，占用栅格的概率通过占用栅格滤波（Occupancy Grid Filtering）计算。扫描点通过光线投影法更新栅格，系统支持多层分辨率地图加速查询，在保证精度的同时提高计算效率。

### 核心特点

slam\_gmapping的理论基础来自于学术界的深入研究，Rao-Blackwellized粒子滤波方法在IEEE ICRA和IEEE IJRR等顶级期刊上已得到充分验证，其理论分析完备，收敛性有保证。这使得该算法具有坚实的学术基础，也是为什么它长期以来作为SLAM教学和研究的标准参考算法。

在计算效率方面，相比全粒子滤波方法，RBPF框架大幅降低了计算维度。具体来说，系统维护的粒子数通常为30-100个，远小于传统粒子滤波的维数。这直接导致CPU占用率低，能够在单核处理器上运行，使得算法可以部署在资源受限的平台上。同时内存占用也比较小，通常只需要100-200MB的内存即可运行。

该算法使用鲁棒的粒子滤波框架，能够用多个粒子表示多模态的不确定性，这在复杂动态环境中很有用。粒子重采样机制有效处理了权值退化问题，对初值的敏感性不高，这意味着即使启动时对初始位姿估计不准确，系统也能逐步收敛到正确的轨迹。

占用栅格地图表示方式简洁直观，易于理解和使用。这种表示方法直接适配路径规划算法（如A\*、RRT等），地图存储和传输效率高，便于与其他导航模块集成。该算法对环境特征敏感，在走廊、走廊交叉口等线性特征丰富的环境中表现优异，当环境中存在明显的角度变化时，回环检测效果也会很好。

对于中小规模的二维环境建图，特别是在资源受限的嵌入式系统上（比如Raspberry Pi等），slam\_gmapping都能提供稳定可靠的性能。处理频率通常为5-30Hz，地图精度约为±20-30cm，建议的建图范围是50米×50米以内的场景。系统的粒子数建议设置在30-100个范围内，可根据具体硬件和精度要求进行调整。

---

## 3. slam\_hector

**官方GitHub：**  [https://github.com/tu-darmstadt-ros-pkg/hector_slam](https://github.com/tu-darmstadt-ros-pkg/hector_slam)

**ROS Wiki：**  [https://wiki.ros.org/hector_slam](https://wiki.ros.org/hector_slam)

**论文参考：**  "Real-time 3D Localization and Mapping with High-Accuracy and Low-Computation with Stereo Cameras" (Meyer et al., ICRA 2010)

### 算法原理详解

slam\_hector采用扫描匹配（Scan Matching）的直接配准方法，其核心思想是通过将当前激光扫描与已有的地图进行高精度配准，直接估计机器人的位姿变化。算法完全不依赖外部里程计信息，而是仅基于激光点云的几何信息进行定位。

在具体算法步骤中，系统首先从原始激光扫描中提取特征，可以选择直接使用激光点而无需显式特征提取。然后进行初值设定，通常使用恒速模型预测初步位姿，或者使用上一帧的估计结果作为当前帧的初值。随后进行迭代最近点法（ICP）配准，建立当前扫描点与地图点的对应关系，使用高斯牛顿法（Gauss-Newton）迭代求解最优变换。目标函数为最小化当前扫描点投影到地图坐标系后与地图点之间的距离平方和。

在地图更新阶段，扫描点投影到地图坐标系，然后更新占用栅格概率。算法采用多分辨率地图金字塔结构来加速处理过程，这是一个coarse-to-fine的策略：高层粗分辨率加速初值搜索，低层精分辨率进行精确配准。这种设计使得算法既能保证收敛速度，又能获得高精度的定位结果。

### 核心特点

slam\_hector最显著的特点是完全无需里程计依赖。对于履带车、腿式机器人、无人机等里程计不可靠或缺失的机器人平台，这是一个理想的选择。在GPS拒止的环境下（如室内、隧道、地下场景），hector\_slam仍然能够基于激光扫描进行可靠的定位。这种独立性使得系统的适用范围和鲁棒性都得到了显著提升。

算法实现了快速扫描匹配，使用多分辨率地图金字塔加速配准过程，典型的处理时间为10-50毫秒每帧，可以支持40Hz以上的高频激光扫描。这种快速处理能力使得系统可以实时构建和维护地图，而无需进行离线优化处理。

在计算资源方面表现轻量级，CPU占用率极低，内存占用也比较小，这使得算法特别适合在嵌入式平台和低功耗设备上部署。

该算法对直线特征特别敏感，在具有丰富的直线边界特征的环境中表现最优。对于点状或分散特征的环境，如复杂的森林或高度纹理化的场景，适应性相对较差。

系统展现出较好的鲁棒性，对初值不敏感，能够处理较大的帧间运动，噪声鲁棒性也不错。在动态障碍物较多的环境中，由于完全基于激光扫描，不依赖历史里程计数据，系统对动态环境中移动物体的干扰也有一定的抵抗力。

---

## 4. LiDAR-SLAM (lindarslam/lindars\_lam)

**相关项目链接：**  [https://github.com/PJLab-ADG/LiDAR_Snowflake](https://github.com/PJLab-ADG/LiDAR_Snowflake)

**点云处理库PCL：**  [https://github.com/PointCloudLibrary/pcl](https://github.com/PointCloudLibrary/pcl)

### 算法原理详解

LiDAR-SLAM框架是一类通用的激光点云SLAM算法，通常基于特征提取、特征匹配和点云配准的组合方法。该框架的处理流程包含几个关键阶段。首先是特征提取模块，从原始点云中自动识别两类重要特征：角点特征（Corner Points）和平面特征（Planar Features）。

角点特征是指激光点的曲率变化剧烈的位置，通常对应环境中的角、边等几何特征。计算方法是通过相邻点的距离变化率来判断，角点数通常占总点数的5-10%。平面特征则是指在局部区域内近似平面的点集，通过PCA分析点云的协方差矩阵可以识别这些特征，平面特征数通常占总点数的80-90%。这样的特征分类使得算法能够有效地降维，只处理提取的特征点而不需要处理全量点云。

在前端里程计阶段，系统将当前帧的特征与前一帧的特征进行匹配。具体来说，角点对角点进行配准，平面点对平面点进行配准。系统使用非线性最小二乘法优化机器人的位姿，从而得出相邻两帧之间的相对位姿变化。这个前端的输出作为系统的初步里程计估计。

在后端映射与优化阶段，前端里程计结果作为初值被输入到全局因子图中。系统还会集成回环检测约束，使用图优化器对整条轨迹进行全局优化。回环检测通常基于特征描述符的相似度计算进行候选帧检验，确保几何一致性后才为优化器提供全局约束。

### 核心特点

LiDAR-SLAM采用特征驱动的方法，处理的特征点数远少于原始点云。由于只需要处理5%-10%的点云数据作为特征，计算量大幅降低，实时性得到了充分的保证。这种降维处理对外点（Outliers）和噪声也具有一定的抵抗力，使得算法在复杂真实环境中表现更加稳定。

系统支持多分辨率特征处理，能够灵活适配从单线到64线的各种激光雷达。对于不同分辨率的激光雷达，系统会自动进行配置调整。通过多帧点云的积累，可以增强提取的特征，改善特征的丰富性和可靠性。

在点云配准技术方面，系统采用改进的ICP算法或其变种，基于距离和法向量的多约束配准来获得更准确的相对位姿。这种多约束的方法收敛快且精度高，相比全点云ICP，特征匹配更加稳定和高效。

---

## 5. lio\_sam (LiDAR-Inertial Odometry and Mapping)

**官方GitHub：**  [https://github.com/TixiaoShan/LIO-SAM](https://github.com/TixiaoShan/LIO-SAM)

**论文发表：**  "LIO-SAM: Tightly-coupled Lidar Inertial Odometry via Smoothing and Mapping" - Robotics: Science and Systems (RSS 2020)

**论文PDF：**  [https://arxiv.org/abs/2007.00258](https://arxiv.org/abs/2007.00258)

**作者个人主页：**  [https://tixiaosshan.com/](https://tixiaosshan.com/)

### 算法原理详解

lio\_sam是一种紧耦合的激光-惯性SLAM算法，其创新之处在于将LiDAR和IMU信息在因子图中紧密耦合，通过平滑和映射进行优化。系统包含四个主要模块：点云预处理、IMU预积分、激光里程计和地图优化，这些模块协同工作形成完整的SLAM系统。

在点云预处理阶段，系统首先进行点云去畸变处理。由于机器人在采集激光扫描期间不是静止的，而是在运动的，这会导致点云中的不同点被采集时的机器人位姿不同，产生扫描畸变。算法使用IMU测量的角速度对点云进行反向旋转补偿，消除由于旋转运动造成的畸变。去畸变后的点云随后进行特征提取，从中提取两类特征：角点（edge features）和平面点（planar features）。角点在局部邻域内沿着某个方向距离变化最大，平面点则在局部邻域内最适合平面拟合。系统使用体素栅格（Voxel Grid）进行降采样，在保留足够信息的同时减少计算量。

激光里程计（前端）模块负责快速的帧间位姿估计。当前帧的点云特征与局部维护的地图进行特征匹配，角点与角点对应，平面点与平面点对应。系统使用Levenberg-Marquardt算法优化机器人的位姿，实现相邻帧之间的快速配准，通常在10-20ms内完成。

因子图优化（后端）模块是系统的核心。它构建一个包含多种因子的因子图：激光里程计因子连接相邻的关键帧，IMU预积分因子提供惯性约束，回环检测因子在环路处提供全局约束，可选的GPS因子提供全局参考。系统使用iSAM2（增量平滑和映射）进行实时优化，能够处理非线性非高斯的复杂约束。

### 核心特点

lio\_sam的首要特点是实现了紧耦合的多传感器融合。与传统的松耦合方法相比，紧耦合方法在同一优化框架中让LiDAR和IMU信息紧密耦合，实现了信息的充分利用和冗余，这导致对短期的LiDAR失配有更强的容错能力，精度通常能提升20-30%。

系统充分利用高频IMU的优势。IMU频率通常为激光雷达的10-20倍（激光通常为10Hz，IMU为100-200Hz），而预积分技术将这些高频IMU数据高效地编码为约束。即使激光无法进行有效匹配，IMU也能保持短期的精度，使得系统能够很好地适应高速运动场景（如自动驾驶车速超过5m/s的情况）。

采用特征驱动的配准方法，系统仅处理提取的特征点，大幅降低了计算复杂度，相比全点云ICP，特征匹配更加稳定和高效，同时实现了实时处理能力。前端激光里程计可在10-20Hz运行，后端优化通常在100毫秒内完成。

系统实现了高精度定位建图，通过激光和IMU的紧密融合，定位精度可以达到厘米级，地图精度也能保证在±5-10cm以内，相比单传感器的SLAM有显著提升。这种高精度使其特别适合对精度要求高的应用，如自动驾驶的基础定位模块。

动态适应性很强，系统能够适应从静止到高速的各种运动模式。在高速运动下表现优异，对于激光失配的鲁棒性也很强。通过融合激光和IMU两种互补的传感器信息，提高了整个系统的容错和稳定性。

系统内置有效的回环检测机制和全局优化策略，支持100公里以上规模的建图，通过全局优化可以有效消除长期累积误差。这使得系统适合大规模、长时间的SLAM任务。

## 6. LOAM（Lidar Odometry and Mapping）

**官方源代码：**  [https://github.com/HKUST-Aerial-Robotics/loam_velodyne](https://github.com/HKUST-Aerial-Robotics/loam_velodyne)

**论文链接：**  [https://arxiv.org/abs/1407.0254](https://arxiv.org/abs/1407.0254)

### 算法原理详解

LOAM是激光SLAM领域的经典算法，发表于2014年的RSS会议，至今仍被广泛使用和引用。该算法采用前端里程计和后端地图构建的分离架构，将SLAM问题分解为两个子问题，分别进行优化。这种分离设计既保证了实时性，又保证了精度，因此成为了后续许多激光SLAM算法的基础框架。

LOAM的前端里程计模块专注于快速的帧间配准。在这个模块中，系统从激光点云中提取两类特征：角点（corner features）和平面点（planar features）。角点特征的提取基于点云的曲率计算，选择曲率较大的点作为角点，这些点通常对应环境中的边和角。平面点则是曲率较小的点，对应环境中的平坦表面。通过这样的特征分类，系统大幅降低了处理的数据量，提高了处理效率。

在特征提取完成后，LOAM进行特征匹配和位姿估计。当前帧的角点与局部地图中的角点进行配对，平面点与局部地图中的平面点进行配对。对于每个特征点，算法通过寻找其在局部地图中的最近邻点，建立点到点的配对关系或点到平面的配对关系。随后使用非线性最小二乘法优化机器人的位姿变换，使得当前帧的特征点投影到地图后的距离和最小化。这个优化过程通常进行若干次迭代，直到收敛为止。前端里程计的输出是相邻两个激光扫描帧之间的相对位姿变化，这个变化被称为增量位姿或里程计估计。

LOAM的后端地图构建模块在较低的频率进行全局的地图优化。该模块接收前端里程计提供的相邻帧间的相对位姿，并将这些约束添加到因子图中。同时，后端模块还进行回环检测，用来识别机器人是否回到了曾经访问过的位置。一旦检测到有效的回环，系统将添加回环约束到因子图中。随后使用图优化算法对整条轨迹进行全局优化。通过这种全局优化，系统可以消除前端里程计累积的误差，获得更加精确的轨迹和地图。

### 核心特点

LOAM采用的分离架构是其最大的创新。通过将快速的前端里程计和慢速的后端优化分离，系统在保证实时性的同时也获得了高的精度。前端以高频率运行，确保机器人能够快速获得里程计估计，从而实现实时导航。后端则以低频率运行，利用更多的计算资源进行全局优化，不会对实时性产生影响。

特征驱动的方法使得LOAM具有很高的效率。通过角点和平面点的提取，算法只需要处理5-10%的原始点云，大幅降低了计算复杂度。这种特征提取方法对噪声有一定的鲁棒性，能够自动滤除激光雷达的一些测量噪声。

该算法具有很好的鲁棒性，能够处理真实世界中各种复杂的环境。由于采用了点到点和点到平面两种配对方式，系统对环境的适应能力强，既能处理线性特征丰富的环境，也能处理平面特征占主导的环境。

LOAM还支持多线激光雷达的配置。对于不同线数的激光雷达，系统可以通过参数调整自动适配。更多的激光线意味着更丰富的特征信息，从而可以进一步提高建图精度。

算法的实现相对简洁，代码逻辑清晰，容易理解和修改。这也是为什么LOAM成为了许多后续研究的基础，许多研究者都在LOAM的框架上进行改进和优化。

---

## 7. LeGO-LOAM（Lightweight and Ground-Optimized LOAM）

**官方GitHub：**  [https://github.com/RoboticPerceptionLab/LeGO-LOAM](https://github.com/RoboticPerceptionLab/LeGO-LOAM)

**论文发表：**  "LeGO-LOAM: Lightweight and Ground-Optimized Lidar Odometry and Mapping on Variable Terrain" - ICRA 2018

**论文链接：**  [https://arxiv.org/abs/1801.10288](https://arxiv.org/abs/1801.10288)

**作者机构：**  宾夕法尼亚州立大学机器人实验室

### 算法原理详解

LeGO-LOAM是对LOAM算法进行的优化和改进，特别针对地面车辆（UGV）在复杂地形上的应用。该算法保持了LOAM的整体框架，但在特征提取、地面分割和其他关键模块上进行了显著改进，使得算法的性能得到了大幅提升。

LeGO-LOAM最显著的改进是引入了显式的地面分割模块。在原始LOAM中，所有的点都被一视同仁地处理，不区分地面点和非地面点。而LeGO-LOAM通过地面分割，将激光点云分为两类：地面点和非地面点。这个分割基于点的高度和局部平面的法向量等几何特性进行。地面点被单独处理，而非地面点则进一步进行特征提取。这种分离处理带来的好处是显著的，对于地面车辆应用，可以更准确地提取出有用的环境特征，避免把地面上的平坦区域误当为有用的平面特征。

LeGO-LOAM改进了特征提取算法。相比LOAM对点的曲率进行全局评估，LeGO-LOAM采用的是分环和分段的局部曲率计算方法。对于多线激光雷达，每条线被分为若干个分段，在每个分段内计算曲率，然后选择曲率最大和最小的点作为角点和平面点。这种分层的特征提取方法对运动畸变有更强的鲁棒性，能够更准确地捕捉环境的几何结构。

算法还优化了特征匹配的过程。在LOAM中，特征点的匹配往往通过寻找最近邻点来完成，这在复杂环境中容易出现误匹配。LeGO-LOAM在特征匹配时引入了更多的约束条件，例如考虑特征点的几何相似性、法向量一致性等因素，从而提高了匹配的正确性。

LeGO-LOAM对LOAM的后端优化也进行了改进。系统采用了更灵活的滑动窗口优化策略，而不是简单的全局优化。这种策略只优化最近的若干个关键帧及其约束，既能保证优化效率，又能提高优化精度。

### 核心特点

LeGO-LOAM的首要优势是轻量级的计算复杂度。通过各种优化，LeGO-LOAM的计算量仅为原始LOAM的四分之一到三分之一，这使得该算法可以在嵌入式平台上运行。在一个典型的多核CPU上，LeGO-LOAM的CPU占用率通常在30-50%左右，远低于其他现代SLAM算法。

地面分割和优化特别适合地面车辆应用。对于车轮式或履带式机器人在室外环境的应用，LeGO-LOAM能够自动检测和利用地面信息，从而提高定位精度。这对于自动驾驶车辆、扫地机器人、采矿机械等地面车辆来说是非常有价值的。

算法对运动畸变的处理更加鲁棒。在高速运动或不规则运动的情况下，LeGO-LOAM比标准LOAM能够提供更稳定的里程计估计。这使得该算法特别适合在高速或急加速场景下的应用。

LeGO-LOAM保持了LOAM的模块化设计，使得对算法进行定制和扩展都比较容易。用户可以根据自己的应用需求，关闭或修改某些模块，比如地面分割模块可以在室内应用中关闭，从而获得更加通用的SLAM解决方案。

该算法的实时性能非常出色，前端里程计可以以20-30Hz的频率运行，能够满足实时导航的需求。同时，后端优化也是高效的，通常在50-100毫秒内完成。

---

## 8. Fast-LIO（Fast and Tightly-coupled Lidar-Inertial Odometry）

**官方GitHub：**  [https://github.com/hku-mars/FAST-LIO](https://github.com/hku-mars/FAST-LIO)

**论文发表：**  "FAST-LIO: A Fast and Tightly-Coupled Sparse-Direct LiDAR-Inertial Odometry and Mapping Method" - ICRA 2021

**论文链接：**  [https://arxiv.org/abs/2010.08196](https://arxiv.org/abs/2010.08196)

**作者机构：**  香港大学机器人与多感知实验室（HKU-MARS）

### 算法原理详解

Fast-LIO是一种高频、稳健的激光-惯性里程计算法，代表了激光SLAM领域最新的发展趋势。与lio\_sam相比，Fast-LIO采用了完全不同的后端优化方法，使用增量式平滑滤波而非传统的离线因子图优化，这使得算法具有更高的处理频率和更好的实时性。

Fast-LIO的核心创新在于采用了EKF（扩展卡尔曼滤波）作为后端优化框架。与传统的批处理优化不同，EKF采用递归的增量更新方式，这意味着系统可以在每次新的激光扫描或IMU数据到达时，立即进行状态更新。这种在线递归处理的方式使得系统不需要等待足够多的数据才能进行优化，从而避免了时间延迟。

在前端处理方面，Fast-LIO采用了稀疏直接法进行激光扫描的处理。系统不显式提取特征点，而是从激光点云中选择具有高曲率的点，直接进行配准。这种方法避免了传统特征提取可能丢失的信息，同时保持了计算效率。点云配准采用高斯牛顿法进行，在EKF框架内迭代求解。

Fast-LIO的IMU处理采用了高效的预积分机制。不同于lio\_sam中详细的IMU预积分，Fast-LIO使用了更简洁的IMU状态传播模型，将IMU数据累积到每个激光扫描周期，然后与激光测量一起进行融合。这种方法虽然看似简化，但在实践中证明了是非常有效的，特别是在高频IMU数据的情况下。

系统的状态向量包含机器人的位置、姿态、速度、IMU偏差等，通过EKF的预测和更新步骤进行递归估计。预测步骤使用IMU数据进行状态的时间推进，更新步骤使用激光扫描数据对状态进行修正。这种递归处理方式使得系统对IMU数据的频率变化有很好的适应性，即使IMU频率发生波动也不会影响算法的稳定性。

### 核心特点

Fast-LIO最突出的特点是处理频率极高，可以达到100Hz的里程计输出频率。高频的位姿估计使得系统能够更及时地检测和响应环境变化，提高了整体系统的鲁棒性。

算法对时间延迟的处理能力很强。在实际机器人系统中，IMU和激光雷达通常有一定的时间同步误差，这种误差在lio\_sam中可能导致性能下降。而Fast-LIO采用的递归EKF框架，对这种时间延迟天然具有鲁棒性，即使存在一定程度的时间不同步，算法仍然能够稳定运行。

相比lio\_sam，Fast-LIO的代码复杂度更低，实现更加简洁。这使得用户更容易理解算法的运作原理，也更容易进行定制和优化。虽然算法简洁，但其性能一点不逊色，甚至在某些方面超过了更复杂的lio\_sam。

Fast-LIO采用的是稀疏直接法，不需要显式的特征提取。这意味着算法对激光点云的几何结构没有特别的偏好，既能处理线性特征丰富的环境，也能处理平面特征占主导的环境，甚至对纹理化场景也有很好的适应性。

系统的稳健性很强，在动态环境、高速运动、传感器噪声较大等不利条件下，算法仍然能够提供可靠的位姿估计。这得益于EKF框架的多层次的鲁棒性设计和激光-惯性的互补融合。

## 9. Fast-LIO2（Fast and Tightly-coupled Direct LiDAR-Inertial Odometry）

**官方GitHub：**  [https://github.com/hku-mars/FAST-LIO2](https://github.com/hku-mars/FAST-LIO2)

**论文发表：**  "FAST-LIO 2.0: A Fast Direct LiDAR-Inertial Odometry with Rotating-Beam LiDAR" - IEEE Transactions on Robotics 2022

**论文链接：**  [https://arxiv.org/abs/2204.00726](https://arxiv.org/abs/2204.00726)

**作者机构：**  香港大学机器人与多感知实验室（HKU-MARS Lab）

### 算法原理详解

Fast-LIO2是对Fast-LIO的进一步改进和优化，在保留Fast-LIO核心优势的基础上，通过多项关键创新使得算法的性能、稳定性和通用性都得到了显著提升。该算法继续采用直接法配准和EKF滤波框架，但在数据结构、计算效率和鲁棒性方面进行了深度优化。

Fast-LIO2最重要的改进是采用了体素化数据结构来加速点云处理。在Fast-LIO中，系统对整个点云进行处理时，需要在每个点与之前的点云地图之间进行查询和配对，这在大规模场景中会产生很高的计算复杂度。而Fast-LIO2引入了三维体素哈希表的概念，将三维空间划分为规则的立方体体素，每个体素内只保存该区域内的若干个关键点。当新的激光点到达时，系统只需要在相关体素及其邻接体素内进行查询，而不需要搜索整个地图。这种空间分割的思想大幅加速了最近邻点的查询过程，使得整体的计算速度相比Fast-LIO提升了数倍。

在点云配准的前端处理方面，Fast-LIO2进行了多项改进。系统采用了分层的特征提取方法，对激光点的曲率进行更精细的分类，区分出具有不同几何特性的点类型。特别地，Fast-LIO2对具有高度曲率的角点和曲率较低的平面点进行了不同的处理策略。对于角点，系统建立点到线的距离约束；对于平面点，系统建立点到平面的距离约束。这种区分化处理使得约束的有效性和精确性都得到了提升。

配准算法本身也进行了优化。Fast-LIO2使用了更加精确的点到平面距离计算方式，通过最小二乘法拟合局部平面模型，然后计算点到平面的垂直距离。同时，系统还引入了权重机制，对不同质量的配对进行加权处理。例如，通过观察角度来评估点的观测质量，对斜向观测的点进行降权处理，从而提高了配准的稳健性。

在IMU处理方面，Fast-LIO2采用了改进的状态传播模型。系统对IMU的偏差项进行更精确的建模和估计，包括加速度计偏差、陀螺仪偏差及其随时间的变化。通过对这些偏差的联合估计，系统在长时间运行中能够保持更好的精度，特别是在IMU初始偏差较大的情况下。

Fast-LIO2对动态环境的处理能力也进行了加强。在动态环境中，激光扫描可能会包含移动物体的反射点，这些点如果被错误地用于配准，会导致位姿估计的失败。Fast-LIO2引入了动态环境适应机制，通过分析激光点的残差来检测和去除可能属于动态物体的点。如果某些点与配准后的地图不匹配，系统会自动将这些点排除在后续的处理之外，从而提高了算法在动态环境中的鲁棒性。

系统的滤波框架也进行了改进。Fast-LIO2采用了更加稳定的EKF更新策略，在处理高曲率约束和多重约束的情况下表现更加稳健。同时，系统还增加了故障检测和恢复机制，当检测到滤波出现异常情况时，系统能够自动进行重新初始化或恢复操作，保证算法的持续稳定运行。

### 核心特点

Fast-LIO2相比Fast-LIO实现了显著的性能提升。通过体素化加速，系统的计算速度提升了数倍，在同样的硬件上能够处理更高频率的激光数据，或者用更少的计算资源达到相同的性能。这使得Fast-LIO2能够在更广泛的硬件平台上部署，包括资源较为受限的嵌入式系统。

该算法处理频率仍然保持在100Hz以上的高水平，即使在处理大规模场景或高帧率激光数据时也能维持这个频率。这种高频率的位姿输出对于需要高速控制反馈的应用特别有价值。

体素化地图的引入使得系统具有更好的内存管理能力。相比传统的全量点云地图，体素化地图只保存必要的点，通过自适应的体素大小调整，系统能够在保证精度的前提下，最小化内存占用。这对于长时间、大规模的SLAM任务特别重要。

Fast-LIO2对多种激光雷达类型具有更好的适配性。系统能够处理旋转式激光雷达的特点，如Velodyne、Sick等常见的扫描方式。同时，系统也能处理MEMS激光雷达等非传统的激光雷达类型，展现出很强的通用性。

算法的鲁棒性得到了增强。通过改进的权重机制和动态环境适应，系统在困难的运行条件下仍然能够提供稳定可靠的位姿估计。系统还能自动检测并处理一些异常情况，避免突然的失败。

Fast-LIO2与Fast-LIO保持了很好的向后兼容性，现有的Fast-LIO用户可以相对容易地迁移到Fast-LIO2，享受性能提升带来的好处。

## 10. LOAM（Lidar Odometry and Mapping）详细版本

**官方源代码：**  [https://github.com/HKUST-Aerial-Robotics/loam_velodyne](https://github.com/HKUST-Aerial-Robotics/loam_velodyne)

**论文链接：**  [https://arxiv.org/abs/1407.0254](https://arxiv.org/abs/1407.0254)

**作者：**  张志中（Ji Zhang）和萨达尔·辛格（Sada Singh）

**作者机构：**  香港科技大学

### 算法原理详解

LOAM是激光SLAM领域的经典算法，发表于2014年的RSS会议。作为现代激光SLAM的奠基性工作，LOAM的核心思想是将SLAM问题分解为两个子问题，分别进行处理和优化，这种分离设计既保证了实时性，又保证了精度，因此成为了后续许多激光SLAM算法的基础框架。时至今日，LOAM仍然是激光SLAM领域最广泛使用和引用的算法之一。

LOAM采用异步处理的架构，包含一个实时的激光里程计模块和一个较低频率的SLAM模块。这种分离设计是LOAM的核心创新。激光里程计模块以较高的频率运行，负责估计机器人相邻两个激光扫描之间的相对位姿变化。这个模块的输出是快速的里程计估计，能够满足机器人实时导航的需求。而SLAM模块则以较低的频率运行，负责进行全局的地图优化和回环检测，消除里程计累积的误差。

在激光里程计的前端处理中，LOAM从每一帧激光扫描中提取两类特征。第一类是角点，这些是曲率较大的点，通常对应环境中的边和角。第二类是平面点，这些是曲率较小的点，通常对应环境中的平坦表面，如地面、墙面等。特征的提取基于点的曲率计算，对于多线激光雷达，系统计算每个点与其邻接点的距离变化，根据曲率大小进行分类。通过这样的特征分类，LOAM将原始点云中5-10%的点标记为有用的特征，大幅降低了后续处理的数据量。

特征提取完成后，激光里程计进行特征匹配。当前扫描帧的特征点与上一帧留存的特征点进行关联。对于角点，系统在上一帧的角点中寻找最近邻点，建立点对点的配对。对于平面点，系统在上一帧的平面点中寻找最近的两个点，这两个点定义了一条直线，然后计算当前平面点到这条直线的距离，建立点对线的配对。这种区分化的配对方式充分利用了环境的几何特性，使得配准更加准确和稳定。

随后LOAM使用Levenberg-Marquardt非线性优化算法来优化机器人的位姿变换。优化目标是最小化所有配对点之间的距离，通过迭代优化得到当前帧相对于上一帧的最优的位姿变换（。这个优化过程通常进行10-20次迭代，直到收敛为止。里程计的输出是相邻两个激光扫描帧之间的增量位姿变换，这个变换被称为里程计估计。

LOAM的SLAM模块在较低频率下运行，接收激光里程计提供的相邻帧间的相对位姿。系统维护一个全局的特征地图，包含所有历史扫描帧中的角点和平面点。当新的扫描帧到达时，SLAM模块将该帧的特征点与全局地图中的特征进行匹配，这个匹配操作比较耗时但精度更高。通过与全局地图的匹配，系统可以检测并纠正里程计累积的误差。

LOAM的SLAM模块还负责回环检测。系统维护一个回环检测的候选队列，当机器人运动到某个位置时，系统会检查该位置是否曾经访问过。回环检测通常基于特征之间的空间接近性进行，如果两个相距较远的时间帧所在位置的特征非常相似，就可能存在回环。一旦确认存在有效的回环，系统会添加回环约束到优化问题中，通过图优化（graph optimization）算法优化整条机器人轨迹，从而消除回环前后的累积误差。

### 核心特点

LOAM采用的异步双频率处理架构是其最大的创新。快速的前端里程计确保了系统的实时性，而慢速的后端优化保证了精度。这种设计巧妙地平衡了实时性和精度之间的矛盾，使得系统既能快速响应，又能通过后期优化获得高精度的结果。前端里程计的高频率输出使得机器人能够进行实时的导航和避障，而后端优化的结果可以用于生成高质量的地图或进行轨迹修正。

特征驱动的方法使得LOAM具有很高的效率。通过只处理提取的特征点（约占原始点数的5-10%），系统大幅降低了计算复杂度，使得LOAM能够在普通的多核CPU上实时运行。这个效率上的优势是LOAM能够广泛应用的重要原因。

该算法具有很好的环境适应能力和鲁棒性。LOAM能够处理各种复杂的环境，无论是线性特征丰富的室内环境（如办公室、走廊），还是平面特征占主导的室外环境（如开放的地面、建筑物墙面），甚至是特征相对稀疏的环境（如森林），LOAM都能通过其灵活的特征匹配机制提供可靠的位姿估计。

LOAM的理论基础坚实，算法设计简洁优雅。虽然是十年前发表的算法，但其核心思想至今仍然被广泛应用。许多后来的SLAM算法都直接基于LOAM的框架进行改进和优化，这充分说明了LOAM设计的精妙性。

该算法支持多种激光雷达配置。从4线到64线的各种多线激光雷达，通过参数调整都能被很好地支持。系统的模块化设计使得用户可以根据自己的激光雷达特性进行配置。

---

## 11. A-LOAM（Advanced LOAM）

**官方GitHub：**  [https://github.com/HKUST-Aerial-Robotics/A-LOAM](https://github.com/HKUST-Aerial-Robotics/A-LOAM)

**基础算法：**  LOAM (Lidar Odometry and Mapping)

**维护机构：**  香港科技大学航空机器人实验室

### 算法原理详解

A-LOAM是对经典LOAM算法的现代化改进和优化，由LOAM的原始作者团队维护。该项目的目标是在保留LOAM核心算法的基础上，进行代码的现代化重构和功能的扩展，使其更加适应当代ROS系统和硬件平台的需求。

A-LOAM在LOAM的原始框架上进行了多项优化。首先，代码进行了模块化重构，将原始LOAM的单一程序分解为多个独立的ROS节点，每个节点负责特定的功能模块，如图像处理、特征匹配、位姿优化等。这种模块化的设计使得系统更加灵活，用户可以根据自己的需求启动或关闭特定的模块，从而适应不同的应用场景。

在特征提取方面，A-LOAM改进了曲率计算的方法。虽然基本思想仍然遵循LOAM的曲率计算，但A-LOAM采用了更加高效的计算策略，通过更好的数据结构和算法优化，使得特征提取的速度更快。同时，A-LOAM还增加了对特征点质量的评估，对于质量不好的特征点进行降权处理或直接排除，从而提高了特征的可靠性。

A-LOAM对位姿优化的计算也进行了优化。虽然仍然使用Levenberg-Marquardt方法，但A-LOAM采用了更加有效的初值设定策略，通过预测和约束来改进初值，使得优化的收敛速度更快。系统还实现了多线程并行处理，不同的计算模块可以在不同的线程上并行执行，充分利用多核CPU的性能。

A-LOAM增加了对多种激光雷达的支持。系统提供了多种激光雷达的配置文件，用户可以直接使用预定义的配置，或者根据自己的激光雷达进行定制。系统还能自动检测激光雷达的线数和扫描模式，进行动态的配置调整。

在地图管理方面，A-LOAM改进了地图的组织结构。系统采用了分层的地图表示，包含全局地图和局部地图。全局地图存储所有的历史扫描特征，而局部地图只维护最近的一些扫描特征。这样做既保证了回环检测的准确性，又避免了全局地图过度增长导致的内存问题。

A-LOAM还增加了一些实用的功能。例如，系统支持地图的保存和加载，允许用户保存已建好的地图，然后在后续的运行中进行加载和增量建图。系统还提供了可视化工具，用户可以实时查看特征点、匹配过程、轨迹等信息，便于调试和分析。

### 核心特点

A-LOAM最大的特点是代码的现代化和工程化。相比原始的LOAM代码，A-LOAM采用了更加规范的编程实践，代码组织更加清晰，使用了更加高效的数据结构。这使得新的开发者更容易理解和使用该算法。

该算法继承了LOAM的所有优点，同时在某些方面进行了改进。处理速度相比原始LOAM有所提升，鲁棒性也得到了增强。系统能够处理更加复杂的运行条件，如高速运动、不规则的机器人运动等。

---

## 12. Cartographer 3D

**官方GitHub：**  [https://github.com/cartographer-project/cartographer](https://github.com/cartographer-project/cartographer)

**项目主页：**  [https://google-cartographer.readthedocs.io/](https://google-cartographer.readthedocs.io/)

**开发机构：**  Google

**论文：**  "Cartographer: Real-time simultaneous localization and mapping" - ICML 2016

### 算法原理详解

Cartographer是Google开源的一套完整的SLAM解决方案，支持2D和3D建图。虽然Cartographer的2D版本已经成为了slam\_toolbox的基础，但Cartographer的3D建图能力同样强大，在大规模三维地图构建中应用广泛。该算法采用分层的架构，包括前端、后端和全局优化三个关键部分，通过精心设计的流程管理实现了高效的实时SLAM。

Cartographer的前端处理负责快速的帧间扫描匹配。对于激光数据，系统进行分体素的点云降采样，然后构建分支界定搜索树用于加速最近邻点的查询。当新的激光扫描到达时，系统将其与之前的"子地图"进行配准。子地图是一个局部的点云表示，通常包含最近的若干次扫描。这个配准过程使用高斯牛顿法进行，目标是最小化当前扫描与子地图之间的距离。前端配准的结果是当前扫描相对于子地图的位姿估计，以及对应的匹配质量评估。

Cartographer在扫描匹配时采用了多个创新的技术。首先，系统对点云进行了自适应的体素化，根据扫描距离的不同，动态调整体素的大小，近处使用更小的体素以获得更高的精度，远处使用更大的体素以降低计算量。其次，系统使用了关联权重机制，对不同质量的点进行加权处理。例如，对于通过反射强度检测到的异常点，系统会降低其权重。再次，系统引入了快速估计的初值策略，基于上一帧的估计结果和机器人的运动模型预测当前帧的初步位姿，这个初值的质量直接影响了后续优化的收敛速度。

Cartographer的后端处理使用了稀疏位姿调整技术。系统维护一个图，其中节点代表各个子地图的位姿，边代表子地图之间的约束关系。当新的扫描被添加到现有的子地图时，系统记录下这个配准的约束。当新扫描的积累达到一定数量后，系统创建一个新的子地图。子地图之间的约束来自于分支和约束搜索，系统在相邻的子地图之间进行配准，得到子地图之间的相对位姿，这个位姿被添加为图中的边。

系统进行全局优化来消除累积的误差。当检测到闭合回路时，系统在相距较远的子地图之间进行配准，如果找到了高质量的配准结果，就添加一条跨越许多子地图的约束边。这个约束提供了全局的约束信息，通过图优化算法，系统可以同时优化所有子地图的位姿，从而消除由于回环而产生的位姿不一致。

### 核心特点

Cartographer的首要特点是强大的三维建图能力。虽然许多SLAM算法都声称支持3D，但Cartographer的3D建图在精度、稳定性和处理规模上都表现出色。系统能够处理数百公里规模的三维地图，处理过程中不会出现显著的内存泄漏或性能下降。

该算法采用的分层架构设计非常合理。通过子地图的概念，系统避免了维护一个巨大的全局点云地图，而是通过分块的方式管理地图，这对于大规模SLAM特别重要。子地图内部的配准是局部的，速度快且精度高；子地图之间的约束提供了全局的一致性。这种分层设计既保证了效率，又保证了精度。

系统的实时性能非常优异。Cartographer的前端可以以高于激光扫描频率的速度运行，后端优化通常在100毫秒内完成。这意味着系统能够在线（online）进行优化，不需要等待所有数据的收集才能进行处理。

Cartographer对多种传感器类型具有很好的支持。除了激光雷达外，系统还能集成IMU、里程计等传感器。特别是对于2D激光SLAM，Cartographer的支持已经非常成熟，slam\_toolbox就是基于Cartographer框架进行的优化。

---

## 13. NDT-LOAM（Normal Distribution Transform LOAM）

**相关项目：**  [https://github.com/arti-repo/ndt_loam](https://github.com/arti-repo/ndt_loam)

**参考资源：**  NDT（Normal Distribution Transform）最初来自于Biber和Straßer的工作

**论文参考：**  "The normal distributions transform: A new approach to laser scan matching" - IROS 2003

### 算法原理详解

NDT-LOAM是将经典的扫描匹配方法——正态分布变换与LOAM架构相结合的算法。NDT方法最初由Martin Magnusson和Atsushi Hiraoka等研究者在处理激光扫描匹配时提出，其核心思想是用分段的多元正态分布来表示激光扫描的点云，而不是直接处理原始的点。这种表示方法具有多项优势，使得扫描匹配在计算效率和鲁棒性方面都有显著提升。

在NDT-LOAM中，激光点云的处理首先进行体素化处理。系统将三维空间划分为规则的体素，对于每个包含点的体素，系统计算该体素内所有点的均值和协方差矩阵。这些统计量定义了一个多元正态分布，用来表示该体素内的点云分布。这样，原始的点云就被转换为一组正态分布的集合，这个集合被称为NDT表示。

当进行扫描匹配时，NDT-LOAM使用当前扫描的点与参考扫描的NDT表示之间的似然来定义匹配的目标函数。对于当前扫描中的每一个点，系统计算该点在参考扫描NDT表示中对应体素的概率密度函数值。所有点的概率密度值的乘积就定义了整体的匹配质量。优化算法的目标是找到使得这个似然最大的位姿变换。

NDT匹配的一个关键优势是其高效性。虽然计算每个点的概率密度值看似复杂，但由于NDT表示已经预计算好了，实际的计算过程非常快。相比传统的点对点或点对线ICP方法，NDT通常能更快地完成配准，特别是在有大量点的情况下。

NDT-LOAM在LOAM的框架上使用NDT作为前端的配准方法。系统仍然维护子地图，但子地图使用NDT表示而不是原始的点云。当新的扫描到达时，系统计算该扫描的NDT表示，然后与子地图的NDT表示进行配准。后端部分仍然遵循LOAM的设计，进行回环检测和全局优化。

### 核心特点

NDT-LOAM的最大特点是配准速度快。通过预计算的NDT表示，系统避免了在每次配准时都重新计算最近邻点，这在处理大量数据时特别有效。在相同的硬件配置下，NDT-LOAM的处理频率通常高于标准LOAM。

该算法具有很好的统计稳健性。NDT表示本质上是一个统计模型，它能够自动处理点云中的噪声和异常值。通过正态分布的参数化表示，系统对点云中的少量噪声不敏感，鲁棒性比较强。

NDT-LOAM能够处理不同类型的环境。无论是特征丰富的室内环境还是特征稀疏的室外环境，NDT都能提供一致的表示方法，使得算法的鲁棒性和通用性都比较强。

系统的内存占用相对较低。由于使用了体素化表示，内存占用与体素的数量相关，而不是原始点云的数量。通过适当的体素大小选择，系统可以在精度和内存占用之间找到很好的平衡。

---

## 14. BLAM（Bigsur SLAM）

**官方GitHub：**  [https://github.com/erik-nelson/blam](https://github.com/erik-nelson/blam)

**论文发表：**  "BLAM: A Fast and Robust Lidar-Inertial Odometry and Mapping" - ICRA 2021

**应用领域：**  车载激光SLAM，自主驾驶

### 算法原理详解

BLAM是一个针对车载激光SLAM特别优化的算法框架，由Erik Nelson等研究者开发。该算法特别考虑了地面车辆（如自动驾驶汽车）的特点，在处理地面、路面等特殊场景上进行了优化。BLAM采用了激光和IMU的紧耦合融合，结合了现代SLAM算法的各种先进技术。

BLAM的前端里程计首先进行点云的预处理。系统对激光扫描进行地面分割，将地面点和非地面点分开处理。对于地面点，系统计算地面的局部平面模型；对于非地面点，系统进行角点和平面点的特征提取。这种分离处理充分利用了地面车辆运动的特点——大多数时间内机器人在平坦的地面上运动。

在特征匹配阶段，BLAM采用了多层次的匹配策略。首先在粗层级上进行快速的粗匹配，确定位姿的大致范围；然后在细层级上进行精细的精匹配，获得精确的位姿估计。这种多层次的方法既保证了匹配的速度，又保证了精度。

BLAM融合了高频的IMU数据。系统使用IMU预积分技术，将IMU数据从两个关键帧之间进行积分，获得两帧之间的相对位姿约束。这个约束与激光配准的约束共同被送入优化框架。通过这种紧耦合的融合，系统的鲁棒性和精度都得到了提升。

系统的后端优化使用了现代的因子图优化方法。系统构建一个包含激光里程计约束、IMU约束和回环约束的因子图，然后使用高效的增量优化算法进行求解。系统支持滑动窗口（的优化策略，只优化最近的若干个关键帧，这使得系统即使在处理长时间数据时也能保持高效。

BLAM的回环检测采用了基于点云全局描述符的方法。系统为每一帧激光扫描计算一个全局描述符，然后通过比较描述符的相似性来检测可能的回环。一旦候选回环被确认，系统进行精细的ICP验证，最后添加回环约束到因子图中。

### 核心特点

BLAM的最大特点是针对车载应用的专门优化。算法特别考虑了地面车辆的运动模型和环境特点，使得在这类应用上的性能特别好。系统能够充分利用地面车辆的约束，提高了精度和效率。

该算法采用的紧耦合激光-IMU融合能够提供高精度的定位。

BLAM支持多种激光雷达类型。从2D激光扫描仪到3D多线激光雷达，系统都能够处理。

系统的鲁棒性强。通过IMU的辅助，即使在激光配准失败的短时间内，系统仍然能通过IMU维持精度。这对于GPS拒止环境或激光条件不利的场景特别有价值。

---

## 15. SuMa（Surfel Mapping）

**官方GitHub：**  [https://github.com/jbehley/SuMa](https://github.com/jbehley/SuMa)

**论文发表：**  "SuMa: Efficient Continuous Surface Mapping Algorithms and Applications" - ICRA 2019

**论文链接：**  [https://arxiv.org/abs/1903.00969](https://arxiv.org/abs/1903.00969)

### 算法原理详解

SuMa是一个基于表面元素的激光SLAM算法。表面元素是指三维空间中代表局部表面片段的单位，通常用位置、法向量和颜色等属性来描述。相比于传统的点云表示，Surfel表示更加紧凑，同时保留了丰富的几何信息。SuMa采用Surfel作为地图的基本元素，从而实现了高效而准确的激光SLAM。

在SuMa中，每个激光扫描被转换为一组Surfel。对于激光点云中的每一个点，系统计算该点在传感器坐标系中的三维坐标，以及相邻点的法向量。这个点及其局部几何信息被表示为一个Surfel。系统还可以为Surfel添加颜色信息，使得地图具有更好的可视化效果和语义理解能力。

Surfel地图维护的方式也很特殊。不同于传统的点云地图简单地累积所有的点，SuMa采用了自适应的Surfel融合和管理策略。当新的扫描到达时，系统将新扫描产生的Surfel与现有地图中的Surfel进行关联和融合。如果新Surfel与现有Surfel的位置和法向量相接近，系统会将其融合到现有Surfel中，更新Surfel的统计信息。否则，系统会在地图中添加一个新的Surfel。这种融合机制使得地图的规模保持在可控的范围内，避免了点云累积导致的内存爆炸问题。

SuMa的SLAM前端使用了高斯牛顿法进行Surfel匹配。当新的扫描到达时，系统计算新扫描Surfel与现有地图Surfel之间的距离和法向量的夹角。通过最小化这些距离，系统优化机器人的位姿变换。这个优化过程是高效的，因为Surfel数量通常远少于原始点云中的点数。

SuMa还支持语义分割。通过集成深度学习的语义分割网络，系统可以给每个Surfel分配一个语义标签。这样生成的地图不仅包含几何信息，还包含了语义信息，可以用于更高级的应用，如自动驾驶的场景理解、城市规划等。

### 核心特点

SuMa的最大特点是高效的地图表示。通过Surfel的融合机制，地图的规模保持在合理的范围内，既不会无限膨胀，又保留了充足的几何信息。这使得SuMa能够处理非常大规模的SLAM任务，比如城市级别的建图。

该算法生成的地图质量很高。Surfel表示保留了丰富的局部几何信息，这使得地图可以用于进一步的处理，如网格化生成三维模型、表面重建等。

系统的计算效率高。由于Surfel数量远少于原始点数，Surfel之间的匹配和融合都比较快。系统可以在普通的计算机上以接近实时的速度运行。

SuMa支持语义分割，这是许多现代SLAM算法都在追求的功能。通过语义信息，系统可以进行更加智能的地图管理，例如只关注特定类别的物体，或者对动态物体进行特殊处理。

系统生成的地图具有很好的可视化效果。由于Surfel可以附带颜色信息，生成的三维地图看起来很逼真。

该算法对多种激光-相机组合都有很好的支持。无论是单独的激光雷达、RGB-D相机，还是激光雷达与RGB相机的组合，系统都能很好地处理。

---

## 16. Elastik Fusion（RGB-D SLAM）

**官方GitHub：**  [https://github.com/mp3guy/ElasticFusion](https://github.com/mp3guy/ElasticFusion)

**论文发表：**  "ElasticFusion: Dense SLAM Without A Pose Graph" - RSS 2015

**论文链接：**  [https://arxiv.org/abs/1506.06832](https://arxiv.org/abs/1506.06832)

### 算法原理详解

虽然ElasticFusion主要面向RGB-D相机而非激光雷达，但由于其在实时SLAM领域的重要性和在某些应用场景中与激光SLAM的互补性，它值得在激光SLAM文档中提及。ElasticFusion是一个实时的稠密SLAM系统，采用了完全不同于特征驱动SLAM的方法——直接法。该算法不提取和匹配特征点，而是直接使用原始的深度图像像素进行配准和优化。

ElasticFusion的核心创新在于其图表示的设计。系统维护一个全局的稠密地图，该地图由许多个"超素"组成。每个超素是深度图像中的一个局部区域，包含位置、法向量、颜色等属性。当新的深度帧到达时，系统将新帧的超素与全局地图中的超素进行配准。配准的目标是最小化新帧超素与对应的地图超素之间的距离和法向量的夹角。通过这种直接法的配准，系统获得了当前帧的位姿。

不同于许多SLAM系统使用位姿图的方法，ElasticFusion采用了弹性的地图变形。当系统检测到地图中存在不一致或矛盾的地方时，系统不是添加图约束进行后期优化，而是直接对地图进行弹性变形，使得新添加的信息与现有地图保持一致。这种在线的地图修正方式避免了位姿图优化的计算代价，使得系统能够以20Hz的频率进行实时处理。

ElasticFusion还实现了高效的回环检测。系统对地图和当前帧的深度图像进行快速的全局对齐，检测是否存在重复观察的区域。一旦确认回环，系统进行精细的ICP配准，然后对地图进行弹性变形以纠正累积的误差。

### 核心特点

ElasticFusion最显著的特点是实时性能。系统能够以20Hz的频率处理VGA分辨率的深度图像，同时生成质量很高的稠密三维地图。这种实时性是通过避免位姿图优化、直接进行地图变形实现的。

该算法生成的地图是稠密的。与特征驱动的稀疏SLAM不同，ElasticFusion生成的是完整的三维场景重建，包含场景中所有观察到的表面。这对于机器人的避障、场景理解等应用特别有价值。

系统的内存管理很高效。虽然维护稠密地图通常需要大量内存，但ElasticFusion通过聪明的数据结构设计（如GPU加速的哈希表），使得内存占用保持在可接受的范围内。

直接法的使用使得系统对纹理的依赖度低。某些基于特征的算法在低纹理区域（如白墙）会失败，而ElasticFusion由于使用深度信息直接配准，对纹理的依赖度很低。

该算法在RGB-D传感器上的表现非常优异，是该领域的标准参考算法。许多后续的工作都基于ElasticFusion的框架进行改进。

虽然主要针对RGB-D，但ElasticFusion的思想（特别是弹性变形的概念）可以被借鉴到激光SLAM的设计中，提供了另一种地图优化的思路。

---

## 17. LSD-SLAM（Large-Scale Direct Monocular SLAM）

**官方GitHub：**  [https://github.com/tum-vision/lsd_slam](https://github.com/tum-vision/lsd_slam)

**论文发表：**  "LSD-SLAM: Large-Scale Direct Monocular SLAM" - ECCV 2014

**论文链接：**  [https://arxiv.org/abs/1409.7881](https://arxiv.org/abs/1409.7881)

**作者机构：**  慕尼黑工业大学（TUM）计算机视觉实验室

**应用领域：**  单目相机SLAM、AR应用

### 算法原理详解

虽然LSD-SLAM是基于单目相机而不是激光雷达的SLAM算法，但作为直接法SLAM的经典代表作，其核心思想和技术对于激光SLAM的发展有着重要的参考价值。LSD-SLAM是直接法SLAM的先驱性工作，相比于后来出现的ORB-SLAM等基于特征的方法，直接法提供了完全不同的思路。

在LSD-SLAM中，系统不显式提取特征点，而是在每个像素上进行直接的配准。给定两个图像帧，系统尝试找到一个位姿变换，使得第一个图像中的像素值经过变换后与第二个图像中对应位置的像素值尽可能相似。这个思想非常直观，但实现起来很复杂，需要处理多种困难，如运动模糊、遮挡、光照变化等。

LSD-SLAM采用了半密集的地图表示。系统不维护完整的稠密地图，而是只维护具有高梯度的像素点。这些点被聚合为关键帧，关键帧之间通过深度估计和配准进行连接。系统维护一个关键帧图，其中每个节点是一个关键帧，边代表关键帧之间的相对位姿约束。

在深度估计方面，LSD-SLAM采用了概率的方法。对于关键帧中的每个高梯度像素，系统维护一个深度的概率分布（通常表示为高斯分布）。当有新的帧观察到同一个位置时，系统使用贝叶斯推断更新深度的概率分布。通过这种方式，系统逐步改进对深度的估计。

LSD-SLAM的后端使用了图优化来消除累积的误差。系统定期检测回环，通过直接的图像配准检测是否存在重复观察的区域。一旦检测到回环，系统添加约束到关键帧图，然后进行全局的位姿图优化。

### 核心特点

LSD-SLAM的最大特点是采用直接法进行像素级的配准。这种方法避免了特征提取和特征匹配的计算代价，同时也避免了特征提取可能丢失的信息。在低纹理或特征稀疏的区域，直接法往往比特征法更有优势。

该算法采用的半密集地图表示是一个很好的权衡。相比于稀疏的特征点地图，半密集地图提供了更丰富的空间信息，有利于场景理解和路径规划。相比于完整的稠密地图，半密集地图显著降低了内存和计算需求。

LSD-SLAM是直接法SLAM的经典代表，其研究思想和技术方案对后来的许多直接法算法都有重要影响。虽然LSD-SLAM本身针对单目相机，但其思想可以被扩展到其他传感器。

该算法在处理动态场景和运动模糊时的鲁棒性比较强。由于使用像素级的直接配准，系统能够利用足够多的约束，对少量的动态点具有一定的容错能力。

虽然主要针对单目相机，但LSD-SLAM的框架和思想对于设计新的激光SLAM算法有启发价值，特别是在如何处理不确定性、如何设计有效的优化框架等方面。